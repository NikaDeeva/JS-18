{"mappings":"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","sources":["src/index.js"],"sourcesContent":["\"use strict\"\r\nconst BASE_URL = 'http://localhost:3000/students';\r\nconst getBtn = document.querySelector('#get-students-btn');\r\nconst postNew = document.querySelector('#add-student-form');\r\nconst studentsTable = document.querySelector('#students-table');\r\n\r\n// Отримання студентів\r\nfunction getStudents() {\r\n    return fetch(BASE_URL)\r\n        .then(response => {\r\n            if (!response.ok) throw new Error('Помилка завантаження студентів');\r\n            return response.json();\r\n        })\r\n        .catch(error => console.error(error));\r\n}\r\n\r\n// const fetchStudents = async () => {\r\n//     const response = await fetch('http://localhost:3000/students');\r\n//           const students = await response.json();\r\n//           return students;\r\n// }\r\n// const getStudents = async () => {\r\n//     try {\r\n//         const students = await fetchStudents();\r\n//         console.log(students);\r\n//     }\r\n//     catch (error) {\r\n// console.log(error);\r\n//     }\r\n// };\r\n// getStudents();\r\n// Функція рендерингу студентів\r\nfunction renderStudents(students) {\r\n    if (!Array.isArray(students)) return console.error(students);\r\n\r\n    studentsTable.innerHTML = students.map(student => `\r\n        <tr data-id=\"${student.id}\">\r\n          <td>${student.id}</td>\r\n          <td>\r\n           <p class=\"currentName\"> ${student.name} </p>\r\n            <input type=\"text\" class=\"newName\" data-id=\"${student.id}\" placeholder=\"Нове ім'я\">\r\n          </td>\r\n          <td>\r\n           <p class=\"currentCourse\"> ${student.course}</p>\r\n            <input type=\"text\" class=\"newCourse\" data-id=\"${student.id}\" placeholder=\"Новий курс\">\r\n          </td>\r\n          <td>\r\n           <p class=\"currentSkills\"> ${student.skills}</p>\r\n            <input type=\"text\" class=\"newSkills\" data-id=\"${student.id}\" placeholder=\"Нові навички\">\r\n          </td>\r\n          <td>\r\n           <p class=\"currentEmail\"> ${student.email}</p>\r\n            <input type=\"email\" class=\"newEmail\" data-id=\"${student.id}\" placeholder=\"Новий email\">\r\n          </td>\r\n          <td>\r\n            ${student.isEnrolled ? \"Так\" : \"Ні\"}\r\n            <input type=\"checkbox\" class=\"newIsEnrolled\" data-id=\"${student.id}\" ${student.isEnrolled ? \"checked\" : \"\"}>\r\n          </td>\r\n          <td>\r\n            <button class=\"updateBtn\" data-id=\"${student.id}\">Оновити</button>\r\n            <button class=\"deleteBtn\" data-id=\"${student.id}\">Видалити</button>\r\n          </td>\r\n        </tr>\r\n      `).join('');\r\n\r\n    document.querySelectorAll('.updateBtn').forEach(button => {\r\n        button.addEventListener('click', handleUpdateStudent);\r\n    });\r\n\r\n    document.querySelectorAll('.deleteBtn').forEach(button => {\r\n        button.addEventListener('click', handleDeleteStudent);\r\n    });\r\n}\r\n\r\ngetBtn.addEventListener('click', \r\n    getStudents()\r\n);\r\n\r\npostNew.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const newStudent = {\r\n        name: document.querySelector('#name').value,\r\n        course: document.querySelector('#course').value,\r\n        skills: document.querySelector('#skills').value,\r\n        email: document.querySelector('#email').value,\r\n        isEnrolled: document.querySelector('#isEnrolled').checked,\r\n    };\r\n    fetch(BASE_URL, {\r\n        method: 'POST',\r\n        body: JSON.stringify(newStudent),\r\n        headers: { \"Content-Type\": \"application/json\" }\r\n    })\r\n    .then(response => response.json())\r\n    .then(() => getStudents().then(renderStudents))\r\n    .catch(error => console.error(error));\r\n});\r\n\r\nfunction handleUpdateStudent(e) {\r\n    e.preventDefault();\r\n    const studentId = e.target.dataset.id;\r\n    const updatedSt = {\r\n        name: document.querySelector(`.newName[data-id='${studentId}']`).value || document.querySelector('.currentName').textContent,\r\n        course: document.querySelector(`.newCourse[data-id='${studentId}']`).value || document.querySelector('.currentCourse').textContent,\r\n        skills: document.querySelector(`.newSkills[data-id='${studentId}']`).value || document.querySelector('.currentSkills').textContent,\r\n        email: document.querySelector(`.newEmail[data-id='${studentId}']`).value || document.querySelector('.currentEmail').textContent,\r\n        isEnrolled: document.querySelector(`.newIsEnrolled[data-id='${studentId}']`).checked,\r\n    };\r\n    \r\n    fetch(`${BASE_URL}/${studentId}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(updatedSt),\r\n        headers: { \"Content-Type\": \"application/json\" }\r\n    })\r\n    .then(response => {\r\n        if (!response.ok) throw new Error('Помилка оновлення студента');\r\n        return response.json();\r\n    })\r\n    .then(() => getStudents().then(renderStudents))\r\n    .catch(error => console.error(error));\r\n}\r\n\r\nfunction handleDeleteStudent(e) {\r\n    e.preventDefault();\r\n    const studentId = e.target.dataset.id;\r\n    fetch(`${BASE_URL}/${studentId}`, { method: 'DELETE'})\r\n    .then(() => getStudents().then(renderStudents))\r\n    .catch(error => console.error(error));\r\n}"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}